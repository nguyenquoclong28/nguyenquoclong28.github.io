
:root{
  --bg:#0b3b5a;
  --panel:#ffffffee;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Segoe UI,Arial;background:var(--bg)}

#app{display:flex;gap:16px;height:100vh;padding:12px}
#controls{width:300px;background:var(--panel);padding:14px;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,0.18);overflow:auto}
#controls h2{margin:4px 0 8px}
.control-row{display:flex;flex-direction:column;margin:8px 0}
.control-row label{font-size:13px;margin-bottom:6px}
.buttons{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
.buttons button{flex:1;padding:8px;border-radius:6px;border:1px solid #ccc;background:#fff;cursor:pointer}

#editor{flex:1;display:flex;flex-direction:column}
#preview{flex:1;position:relative;background:#123;display:flex;align-items:center;justify-content:center;border-radius:8px;overflow:hidden}
#preview img#bgImage{width:100%;height:100%;object-fit:cover;display:block}
#overlay{position:absolute;left:0;right:0;top:0;bottom:0}

/* caustics / subtle light pattern */
#preview::before{
  content:'';position:absolute;left:-10%;top:-10%;width:120%;height:120%;pointer-events:none;mix-blend-mode:overlay;opacity:0.25;background-image:radial-gradient(ellipse at 20% 10%, rgba(255,255,255,0.08), transparent 10%), radial-gradient(ellipse at 80% 70%, rgba(255,255,255,0.06), transparent 12%);
  animation: caustics 12s linear infinite;
}
@keyframes caustics{from{transform:translateY(0) translateX(0)}50%{transform:translateY(6px) translateX(4px)}to{transform:translateY(0) translateX(0)}}

/* bubbles */
.bubble{position:absolute;border-radius:50%;background:linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.6));box-shadow:0 1px 6px rgba(0,0,0,0.15);opacity:0.95;pointer-events:none;transform:translateY(0);}
.bubble.pop{transition:transform 300ms ease-out, opacity 300ms;transform:scale(1.6);opacity:0}

/* subtle water surface shimmer */
#preview::after{content:'';position:absolute;left:0;right:0;top:0;height:8%;background:linear-gradient(rgba(255,255,255,0.25), rgba(255,255,255,0));pointer-events:none;mix-blend-mode:screen}

#assets{height:160px;margin-top:10px;background:#fff;border-radius:8px;padding:10px;overflow:auto}
#thumbs{display:flex;gap:8px;align-items:center}
.thumb{width:100px;height:70px;object-fit:cover;border-radius:6px;border:1px solid #ccc;cursor:grab}

.fish-item{position:absolute;touch-action:none;cursor:move;display:block}
.fish-item img{display:block;max-width:360px;max-height:360px}
.fish-item.selected{outline:2px dashed rgba(255,255,255,0.6)}

/* small helpers */
#preview:after{content:'';position:absolute;left:0;right:0;bottom:0;height:12%;background:linear-gradient(to top, rgba(0,0,0,0.18), transparent)}

@media (max-width:900px){#controls{display:none} #thumbs{gap:6px}}
